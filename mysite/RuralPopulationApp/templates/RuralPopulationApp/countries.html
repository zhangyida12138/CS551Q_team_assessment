{% extends 'layout.html' %}

{% block title %}
    Countries
{% endblock %}

{% block content %}
    <h1>List of Countries</h1>
    <br>
    <ul>
        {% for country in countries %}
            <li>{{ country.name }} - {{ country.country_code }} |Income Group: {{ country.income_group.name }}|Region: {{country.region.name}} </li>
            <li>Special Notes: {{ country.special_notes }}</li>
            <h3>Data Entries:</h3>
            <ul>
                {% for data_entry in country.dataentry_set.all %}
                    <li>Year: {{ data_entry.year }}, Value: {{ data_entry.value }}</li>
                {% empty %}
                    <li>No data entries found for this country.</li>
                {% endfor %}
            </ul>
        {% endfor %}
    </ul>
    <br>
    <ul>
        <li><a href="{% url 'regions' %}">View Regions</a></li>
        <li><a href="{% url 'income_groups' %}">View Income Groups</a></li>
    </ul>
{% endblock %}
